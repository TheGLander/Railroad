<!doctype html>
<html>
  <head>
    <title>Railroad</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/prismify@1.0.0/prismify.css"
    />
    <link rel="icon" href="icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <div class="title-container">
      <div class="prismify spinning-icon"><img src="icon.png" /></div>
      <h1>Railroad</h1>
      <div class="prismify spinning-icon"><img src="icon.png" /></div>
    </div>
    <p>
      <b>R</b>ail<b>R</b>oad is a <b>R</b>oute <b>R</b>epository for routes
      meant for the Steam/CC2 ruleset. This is the CC2 version of the
      <a href="https://davidstolp.com/old/chips/tws">public TWS</a>, which is a
      repository for MS and Lynx routes.
    </p>
    <h2>Routes</h2>
    <p>
      <label
        >Choose a levelset to view:
        <select id="routesListSelector">
          <option value="">-</option>
          <option value="cc1">CC1 (Steam)</option>
          <option value="cc2">CC2</option>
          <option value="cc2lp1">CC2LP1</option>
        </select></label
      >
    </p>
    <table id="routesListTable">
      <thead>
        <th>Level</th>
        <th>Category</th>
        <th>Metrics</th>
        <th>Submitter</th>
        <th>Upload time</th>
        <th>Play</th>
      </thead>
      <tbody></tbody>
    </table>
    <h2>Categories</h2>
    <p>
      Unlike the public TWS, Railroad keeps all previously uploaded routes for a
      level and allows uploading routes which aren't optimal or
      scoreboard-legal, but still have value for the average person. Examples of
      such non-mainline routes include:
    </p>
    <ul>
      <li>
        Routes which use glitches which aren't scoreboard-legal. Eg. CC2LP1 #149
        Bye Bye Bye - "Simultaneous character movement glitch"
      </li>
      <li>
        Routes which aren't optimal but easier to execute. Eg. CC2 #200 CRAZY II
        - "No 3-hour wait"
      </li>
      <li>
        Routes which show alternative or no-bust solutions. Eg. CC2 #112 Bowl to
        Freedom - "No bust"
      </li>
    </ul>
    <h2>Username</h2>
    <p class="loggedOutOnly">
      To submit a route, you need to pick a username. Username:
      <input id="userNameInput" /><button id="submitUsernameButton">Ok</button
      ><br />
      Press <button id="useAuthTokenButton">Use Auth Token</button> if you have
      one.
    </p>
    <p class="loggedInOnly">
      You are logged in as <b id="usernameText"></b>. If you want to use this
      username on another device,
      <button id="copyAuthTokenButton">Copy your Auth Token</button> and input
      it on the new device.
    </p>
    <p>
      If you are having any troubles with the username system or want to change
      or delete your username, ask about it in the
      <a target="_blank" href="https://discord.gg/Xd4dUY9"
        >Chip's Challenge Bit Busters Club Discord Server</a
      >
    </p>
    <h2 id="trivia">Trivia</h2>
    <div id="triviaText">Loading...</div>
    <h2>Upload</h2>
    <p class="loggedOutOnly">Pick a username to upload routes.</p>
    <p class="loggedInOnly">
      Upload <span id="moreRoutesText">more </span>route files by dragging them
      onto the website or by clicking
      <button id="uploadRouteButton">Upload</button>.
    </p>
    <table id="uploadZone" class="loggedInOnly">
      <thead>
        <tr>
          <th>Level</th>
          <th>Metrics</th>
          <th>Glitches</th>
          <th>Category</th>
          <th>Remove</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button id="submitRoutesButton" disabled>Submit!!</button>
    <script src="./index.js" type="module"></script>
  </body>
</html>
